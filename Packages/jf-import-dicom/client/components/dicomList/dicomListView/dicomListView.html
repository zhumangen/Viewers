<template name="dicomListView">
    <div class="dicomListToolbar clearfix">
        <div class="header pull-left">影像列表</div>
        <div class="dicomCount pull-right">{{numberOfRecords}}</div>
        <div class="pull-right">{{>dicomListToolbar statusData}}</div>
    </div>
    <div class="theadBackground">
    </div>
    <div id="dicomListContainer">
        <table id="tblDicomList" class="dicomListResult table noselect ">
            <thead>
                <tr>
                  <th class="status">
                      <div id="_status" class="sortingCell">
                          <span>状态</span>
                          <i class="{{sortingColumnsIcons.default}}">&nbsp;</i>
                      </div>
                      <input type="text"
                             class="form-control dicomList-search"
                             id="status">
                  </th>
                    <th class="level">
                        <div id="_level" class="sortingCell">
                            <span>层级</span>
                            <i class="{{sortingColumnsIcons.default}}">&nbsp;</i>
                        </div>
                        <input type="text"
                               class="form-control dicomList-search"
                               id="level">
                    </th>
                    <th class="patientId">
                        <div id="_patientId" class="sortingCell">
                            <span>患者ID</span>
                            <i class="{{sortingColumnsIcons.default}}">&nbsp;</i>
                        </div>
                        <input type="text"
                               class="form-control dicomList-search"
                               id="patientId">
                    </th>
                    <th class="patientName">
                        <div id="_patientName" class="sortingCell">
                            <span>患者姓名</span>
                            <i class="{{sortingColumnsIcons.default}}">&nbsp;</i>
                        </div>
                        <input type="text"
                               class="form-control dicomList-search"
                               id="patientName">
                    </th>
                    <th class="patientSex">
                        <div id="_patientSex" class="sortingCell">
                            <span>性别</span>
                            <i class="{{sortingColumnsIcons.patientSex}}">&nbsp;</i>
                        </div>
                        <input type="text"
                               class="form-control dicomList-search"
                               id="patientSex">
                    </th>
                    <th class="patientAge">
                        <div id="_patientAge" class="sortingCell ">
                            <span>年龄</span>
                            <i class="{{sortingColumnsIcons.default}}">&nbsp;</i>
                        </div>
                        <input type="text"
                               class="form-control dicomList-search"
                               id="patientAge">
                    </th>
                    <th class="dicomDate">
                        <div id="_dicomDate" class="sortingCell">
                            <span>检查时间</span>
                            <i class="{{sortingColumnsIcons.default}}">&nbsp;</i>
                        </div>
                        <input type="text"
                               class="form-control dicomList-search"
                               name="daterange"
                               id="dicomDate">
                    </th>
                    <th class="institution">
                        <div id="_institution" class="sortingCell">
                            <span>机构名称</span>
                            <i class="{{sortingColumnsIcons.default}}">&nbsp;</i>
                        </div>
                        <input type="text"
                               class="form-control dicomList-search"
                               id="institution">
                    </th>
                    <th class="modality">
                        <div id="_modality" class="sortingCell">
                            <span>类型</span>
                            <i class="{{sortingColumnsIcons.default}}">&nbsp;</i>
                        </div>
                        <input type="text"
                               class="form-control dicomList-search"
                               id="modality">
                    </th>
                    <th class="bodyPart">
                        <div id="_bodyPart" class="sortingCell">
                            <span>部位</span>
                            <i class="{{sortingColumnsIcons.default}}">&nbsp;</i>
                        </div>
                        <input type="text"
                               class="form-control dicomList-search"
                               id="bodyPart">
                    </th>
                    <th class="description">
                        <div id="_dicomDescription" class="sortingCell">
                            <span>检查描述</span>
                            <i class="{{sortingColumnsIcons.default}}">&nbsp;</i>
                        </div>
                        <input type="text"
                               class="form-control dicomList-search"
                               id="dicomDescription">
                    </th>
                </tr>
            </thead>
            <tbody id="dicomListData">
                {{#each dicom in dicoms}}
                    {{>dicomListRow dicom}}
                {{/each}}
            </tbody>
        </table>

        <!-- Pagination -->
        {{>paginationArea this.paginationData}}

        {{#if session "showLoadingText"}}
            {{>loadingText}}
        {{else}}
            {{#if session "serverError"}}
                <div class="notFound">There was an error fetching dicoms</div>
            {{else}}
                {{#unless numberOfRecords}}
                    <div class="notFound">No matching results</div>
                {{/unless}}
            {{/if}}
        {{/if}}
    </div>
</template>
